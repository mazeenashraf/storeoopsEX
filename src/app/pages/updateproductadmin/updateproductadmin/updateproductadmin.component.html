<div class="form-card mt-4 pt-4 p-3">
  <h1 class="mt-3 pt-3">Update Product</h1>

  <form (submit)="onSubmit($event)">
    <div class="form-section">
      <div class="form-section-title">Basic Info</div>

      <!-- Category Select -->
      <div class="mb-3">
        <label for="category">Category</label>
        <select class="form-select" [(ngModel)]="category" name="category" >
          <option *ngFor="let cat of categories" [value]="cat._id">
            {{ cat.name }}
          </option>
        </select>
      </div>

      <!-- Title Input -->
      <div class="mb-3">
        <label>Title</label>
        <input
          type="text"
          class="form-control"
          [(ngModel)]="title"
          name="title"
          
        />
      </div>

      <!-- Description -->
      <div class="mb-3">
        <label>Description</label>
        <textarea
          class="form-control"
          [(ngModel)]="description"
          name="description"
          rows="3"
          
        ></textarea>
      </div>

      <!-- Original Price -->
      <div class="mb-3">
        <label>Original Price (EGP)</label>
        <input
          type="number"
          class="form-control"
          [(ngModel)]="originalPrice"
          name="originalPrice"
          
        />
      </div>

      <!-- Upload New Images -->
      <div class="mb-3">
        <label>Upload Images</label>
        <input
          type="file"
          (change)="onImageChange($event)"
          class="form-control"
          multiple
        />
      </div>
    </div>

    <!-- Variants Section -->
    <div class="form-section">
      <div class="form-section-title">Variants</div>

      <div
        *ngFor="let variant of variants; let i = index"
        class="variant-row mb-3 d-flex gap-2 align-items-center"
      >
        <input
          type="text"
          placeholder="Size"
          class="form-control"
          [(ngModel)]="variant.size"
          name="size{{ i }}"
        
        />
        <input
          type="text"
          placeholder="Color"
          class="form-control"
          [(ngModel)]="variant.color"
          name="color{{ i }}"
          
        />
        <input
          type="number"
          placeholder="Quantity"
          class="form-control"
          [(ngModel)]="variant.quantity"
          name="quantity{{ i }}"
          
        />
        <button
          type="button"
          class="btn btn-danger btn-sm"
          (click)="removeVariant(i)"
          *ngIf="variants.length > 1"
        >
          ðŸ—‘
        </button>
      </div>

      <!-- Add Variant Button -->
      <button
        type="button"
        class="btn btn-outline-primary btn-sm"
        (click)="addVariant()"
      >
        + Add Variant
      </button>
    </div>

    <!-- Submit Button -->
    <div class="text-center mt-4">
      <button type="submit" class="btn btn-success">Update Product</button>
    </div>
  </form>
</div>