<div class="notification-wrapper position-relative">
  <button class="btn btn-link p-0 position-relative" (click)="toggleDropdown()" aria-label="Toggle notifications">
    <i class="fas fa-bell fa-lg text-dark"></i>
    <span *ngIf="notifications.length > 0" class="badge bg-danger position-absolute top-0 start-100 translate-middle">
      {{ notifications.length }}
    </span>
  </button>

  <div
    class="dropdown-box position-absolute end-0 mt-2 p-3 bg-white shadow-lg rounded border"
    *ngIf="isOpen"
  >
    <div class="dropdown-header fw-semibold border-bottom pb-2 mb-2">Notifications</div>

    <div *ngIf="notifications.length > 0; else noNotifications">
      <div class="notification-item mb-2 pb-2 border-bottom" *ngFor="let notif of notifications | slice:0:3">
        <div class="fw-semibold">{{ notif.title }}</div>
        <div class="text-muted small">{{ notif.message }}</div>
      </div>

      <div class="dropdown-actions d-flex flex-column gap-2 mt-3">
        <button class="btn btn-sm btn-outline-dark w-100" (click)="clearNotifaction()">Clear</button>
      </div>
    </div>

    <ng-template #noNotifications>
      <div class="text-center text-muted py-2">No notifications</div>
    </ng-template>
  </div>
</div>
